2025-08-25 17:50:54,193 - api2_douyin_oauth - /www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/service.py - 11 - INFO_SERVICE - get_douyin_oauth_token is runing!
2025-08-25 17:50:54,193 - api2_douyin_oauth - /www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/service.py - 11 - INFO_SERVICE - get_douyin_oauth_token is runing!
2025-08-25 17:50:54,193 - api2_douyin_oauth - /www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/service.py - 13 - INFO_SERVICE - params:app_id=1817570459492448 auth_code='7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b' uid='92403628013'
2025-08-25 17:50:54,193 - api2_douyin_oauth - /www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/service.py - 13 - INFO_SERVICE - params:app_id=1817570459492448 auth_code='7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b' uid='92403628013'
2025-08-25 17:50:54,193 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 240 - INFO_CORE - 函数调用开始 - 函数名: douyin_oauth, 参数: (callback_params=DouyinCallbackParams(app_id=1817570459492448, auth_code='7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b', uid='92403628013')), 开始时间: 2025-08-25 17:50:54
2025-08-25 17:50:54,193 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 240 - INFO_CORE - 函数调用开始 - 函数名: douyin_oauth, 参数: (callback_params=DouyinCallbackParams(app_id=1817570459492448, auth_code='7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b', uid='92403628013')), 开始时间: 2025-08-25 17:50:54
2025-08-25 17:50:54,196 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 240 - INFO_KERNEL - 函数调用开始 - 函数名: oauth2_access_token, 参数: (self=<DouyinHttpClient instance: http_client>, params=DouyinOauth2AccessTokenParams(app_id=1817570459492448, auth_code='7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b', secret='e880382b0039077d7c3babb5dc8d0a8ea9f74771')), 开始时间: 2025-08-25 17:50:54
2025-08-25 17:50:54,196 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 240 - INFO_KERNEL - 函数调用开始 - 函数名: oauth2_access_token, 参数: (self=<DouyinHttpClient instance: http_client>, params=DouyinOauth2AccessTokenParams(app_id=1817570459492448, auth_code='7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b', secret='e880382b0039077d7c3babb5dc8d0a8ea9f74771')), 开始时间: 2025-08-25 17:50:54
2025-08-25 17:50:54,196 - api2_douyin_oauth - /www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/kernel.py - 21 - DEBUG - url:https://open.douyin.com/oauth/access_token/,params:{'app_id': 1817570459492448, 'auth_code': '7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b', 'secret': 'e880382b0039077d7c3babb5dc8d0a8ea9f74771'}
2025-08-25 17:50:54,196 - api2_douyin_oauth - /www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/kernel.py - 21 - DEBUG - url:https://open.douyin.com/oauth/access_token/,params:{'app_id': 1817570459492448, 'auth_code': '7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b', 'secret': 'e880382b0039077d7c3babb5dc8d0a8ea9f74771'}
2025-08-25 17:50:54,196 - api2_http_client_140015440589024 - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_http/logger.py - 48 - INFO_UTILS - Request: POST https://open.douyin.com/oauth/access_token/
2025-08-25 17:50:54,196 - api2_http_client_140015440589024 - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_http/logger.py - 48 - INFO_UTILS - Request: POST https://open.douyin.com/oauth/access_token/
2025-08-25 17:50:54,196 - api2_http_client_140015440589024 - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_http/logger.py - 49 - INFO_UTILS - Request details: {'type': 'request', 'method': 'POST', 'url': 'https://open.douyin.com/oauth/access_token/', 'timestamp': 1756115454.196809, 'data': "{'app_id': 1817570459492448, 'auth_code': '7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b', 'secret': 'e880382b0039077d7c3babb5dc8d0a8ea9f74771'}"}
2025-08-25 17:50:54,196 - api2_http_client_140015440589024 - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_http/logger.py - 49 - INFO_UTILS - Request details: {'type': 'request', 'method': 'POST', 'url': 'https://open.douyin.com/oauth/access_token/', 'timestamp': 1756115454.196809, 'data': "{'app_id': 1817570459492448, 'auth_code': '7ba23bbe2e6fc74c6b6f0bdc7542e8387f12927b', 'secret': 'e880382b0039077d7c3babb5dc8d0a8ea9f74771'}"}
2025-08-25 17:50:54,450 - httpx - INFO - HTTP Request: POST https://open.douyin.com/oauth/access_token/ "HTTP/1.1 200 OK"
2025-08-25 17:50:54,451 - api2_http_client_140015440589024 - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_http/logger.py - 74 - INFO_UTILS - Response: 200 https://open.douyin.com/oauth/access_token/ (0.254s)
2025-08-25 17:50:54,451 - api2_http_client_140015440589024 - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_http/logger.py - 74 - INFO_UTILS - Response: 200 https://open.douyin.com/oauth/access_token/ (0.254s)
2025-08-25 17:50:54,451 - api2_http_client_140015440589024 - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_http/logger.py - 77 - INFO_UTILS - Response details: {'type': 'response', 'status_code': 200, 'url': 'https://open.douyin.com/oauth/access_token/', 'elapsed': 0.2539095878601074, 'timestamp': 1756115454.4510236, 'headers': {'server': 'Tengine', 'content-type': 'application/json', 'content-length': '112', 'connection': 'keep-alive', 'date': 'Mon, 25 Aug 2025 09:50:54 GMT', 'content-encoding': 'gzip', 'bd-tt-error-code': '4', 'vary': 'Accept-Encoding,Origin', 'x-tt-logid': '20250825175054247365182F1091A6DD7C', 'set-cookie': 'passport_csrf_token=06add87818b4d44bf77d4bae7f3861dd; Path=/; Domain=douyin.com; Max-Age=5184000; Secure; SameSite=None, passport_csrf_token_default=06add87818b4d44bf77d4bae7f3861dd; Path=/; Domain=douyin.com; Max-Age=5184000, reg-store-region_dy_open=; Path=/; Domain=open.douyin.com; Max-Age=0; HttpOnly; Secure', 'strict-transport-security': 'max-age=31536000', 'server-timing': 'inner; dur=12, cdn-cache;desc=MISS,edge;dur=0,origin;dur=131', 'x-tt-trace-host': '0167f65d130f6357c161bdef06fb9d2afc0404b2af3272ed4ff8a456eda9946abb715eef095d8666826fc535e596440eced4aef5fab7424cea490ae90b895b41ce1ca77982d8177333eb849185fdbc4b3a9d9afb5315f1ca8d29800925a7af2a5c', 'x-tt-trace-tag': 'id=03;cdn-cache=miss;type=dyn', 'x-tt-trace-id': '00-250825175054247365182F1091A6DD7C-4ACFE9005B7029D4-00', 'via': 'dynamic9.cn4597[131,0]', 'timing-allow-origin': '*', 'eagleid': '3b24d6a917561154543164733e'}, 'content_length': 99}
2025-08-25 17:50:54,451 - api2_http_client_140015440589024 - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_http/logger.py - 77 - INFO_UTILS - Response details: {'type': 'response', 'status_code': 200, 'url': 'https://open.douyin.com/oauth/access_token/', 'elapsed': 0.2539095878601074, 'timestamp': 1756115454.4510236, 'headers': {'server': 'Tengine', 'content-type': 'application/json', 'content-length': '112', 'connection': 'keep-alive', 'date': 'Mon, 25 Aug 2025 09:50:54 GMT', 'content-encoding': 'gzip', 'bd-tt-error-code': '4', 'vary': 'Accept-Encoding,Origin', 'x-tt-logid': '20250825175054247365182F1091A6DD7C', 'set-cookie': 'passport_csrf_token=06add87818b4d44bf77d4bae7f3861dd; Path=/; Domain=douyin.com; Max-Age=5184000; Secure; SameSite=None, passport_csrf_token_default=06add87818b4d44bf77d4bae7f3861dd; Path=/; Domain=douyin.com; Max-Age=5184000, reg-store-region_dy_open=; Path=/; Domain=open.douyin.com; Max-Age=0; HttpOnly; Secure', 'strict-transport-security': 'max-age=31536000', 'server-timing': 'inner; dur=12, cdn-cache;desc=MISS,edge;dur=0,origin;dur=131', 'x-tt-trace-host': '0167f65d130f6357c161bdef06fb9d2afc0404b2af3272ed4ff8a456eda9946abb715eef095d8666826fc535e596440eced4aef5fab7424cea490ae90b895b41ce1ca77982d8177333eb849185fdbc4b3a9d9afb5315f1ca8d29800925a7af2a5c', 'x-tt-trace-tag': 'id=03;cdn-cache=miss;type=dyn', 'x-tt-trace-id': '00-250825175054247365182F1091A6DD7C-4ACFE9005B7029D4-00', 'via': 'dynamic9.cn4597[131,0]', 'timing-allow-origin': '*', 'eagleid': '3b24d6a917561154543164733e'}, 'content_length': 99}
2025-08-25 17:50:54,451 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 270 - INFO_KERNEL - 函数调用成功 - 函数名: oauth2_access_token, 返回值: {'data': {'captcha': '', 'desc_url': '', 'description': '参数错误', 'error_code': 4}, 'message': 'error'}, 开始时间: 2025-08-25 17:50:54, 结束时间: 2025-08-25 17:50:54, 执行时间: 0.2557秒
2025-08-25 17:50:54,451 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 270 - INFO_KERNEL - 函数调用成功 - 函数名: oauth2_access_token, 返回值: {'data': {'captcha': '', 'desc_url': '', 'description': '参数错误', 'error_code': 4}, 'message': 'error'}, 开始时间: 2025-08-25 17:50:54, 结束时间: 2025-08-25 17:50:54, 执行时间: 0.2557秒
2025-08-25 17:50:54,451 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 240 - INFO_CORE - 函数调用开始 - 函数名: _Response2DTO, 参数: (responese={'data': {'captcha': '', 'desc_url': '', 'description': '参数错误', 'error_code': 4}, 'message': 'error'}), 开始时间: 2025-08-25 17:50:54
2025-08-25 17:50:54,451 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 240 - INFO_CORE - 函数调用开始 - 函数名: _Response2DTO, 参数: (responese={'data': {'captcha': '', 'desc_url': '', 'description': '参数错误', 'error_code': 4}, 'message': 'error'}), 开始时间: 2025-08-25 17:50:54
2025-08-25 17:50:54,451 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 287 - INFO_CORE - 函数调用异常 - 函数名: _Response2DTO, 异常: KeyError: 'code', 开始时间: 2025-08-25 17:50:54, 结束时间: 2025-08-25 17:50:54, 执行时间: 0.0002秒
2025-08-25 17:50:54,451 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 287 - INFO_CORE - 函数调用异常 - 函数名: _Response2DTO, 异常: KeyError: 'code', 开始时间: 2025-08-25 17:50:54, 结束时间: 2025-08-25 17:50:54, 执行时间: 0.0002秒
2025-08-25 17:50:54,451 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 287 - INFO_CORE - 函数调用异常 - 函数名: douyin_oauth, 异常: KeyError: 'code', 开始时间: 2025-08-25 17:50:54, 结束时间: 2025-08-25 17:50:54, 执行时间: 0.2582秒
2025-08-25 17:50:54,451 - api2_douyin_oauth - /www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py - 287 - INFO_CORE - 函数调用异常 - 函数名: douyin_oauth, 异常: KeyError: 'code', 开始时间: 2025-08-25 17:50:54, 结束时间: 2025-08-25 17:50:54, 执行时间: 0.2582秒
2025-08-25 17:50:54,452 - main - ERROR - Unhandled exception: 'code'
Traceback (most recent call last):
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
await self.app(scope, receive, _send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
await self.app(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
raise exc
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
await app(scope, receive, sender)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
await self.middleware_stack(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
await route.handle(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
await self.app(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
await wrap_app_handling_exceptions(app, request)(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
raise exc
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
await app(scope, receive, sender)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
response = await f(request)
^^^^^^^^^^^^^^^^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
raw_response = await run_endpoint_function(
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...<3 lines>...
)
^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
return await dependant.call(**values)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/service.py", line 14, in get_douyin_oauth_token
oauth_result = douyin_oauth(params)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py", line 101, in wrapper
return logger_wrapper_multi(logger, level, model)(func)(*args, **kwargs)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py", line 262, in wrapper
result = func(*args, **kwargs)
File "/www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/core.py", line 59, in douyin_oauth
return _Response2DTO(resp)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py", line 101, in wrapper
return logger_wrapper_multi(logger, level, model)(func)(*args, **kwargs)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py", line 262, in wrapper
result = func(*args, **kwargs)
File "/www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/core.py", line 15, in _Response2DTO
if responese['code'] != '0':
~~~~~~~~~^^^^^^^^
KeyError: 'code'
[2025-08-25 17:50:54 +0800] [501235] [ERROR] Exception in ASGI application
Traceback (most recent call last):
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
result = await app( # type: ignore[func-returns-value]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
self.scope, self.receive, self.send
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
)
^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
return await self.app(scope, receive, send)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/fastapi/applications.py", line 1054, in __call__
await super().__call__(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
await self.middleware_stack(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
raise exc
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
await self.app(scope, receive, _send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
await self.app(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
raise exc
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
await app(scope, receive, sender)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
await self.middleware_stack(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
await route.handle(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
await self.app(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 78, in app
await wrap_app_handling_exceptions(app, request)(scope, receive, send)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
raise exc
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
await app(scope, receive, sender)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/starlette/routing.py", line 75, in app
response = await f(request)
^^^^^^^^^^^^^^^^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/fastapi/routing.py", line 302, in app
raw_response = await run_endpoint_function(
^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...<3 lines>...
)
^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
return await dependant.call(**values)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
File "/www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/service.py", line 14, in get_douyin_oauth_token
oauth_result = douyin_oauth(params)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py", line 101, in wrapper
return logger_wrapper_multi(logger, level, model)(func)(*args, **kwargs)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py", line 262, in wrapper
result = func(*args, **kwargs)
File "/www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/core.py", line 59, in douyin_oauth
return _Response2DTO(resp)
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py", line 101, in wrapper
return logger_wrapper_multi(logger, level, model)(func)(*args, **kwargs)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
File "/www/server/pyporject_evn/api2_hnzzzsw_venv/lib/python3.13/site-packages/tk_base_utils/tk_logger/decorators.py", line 262, in wrapper
result = func(*args, **kwargs)
File "/www/wwwroot/api2_hnzzzsw/app/project/get_oauth_token/douyin/core.py", line 15, in _Response2DTO
if responese['code'] != '0':
~~~~~~~~~^^^^^^^^
KeyError: 'code'